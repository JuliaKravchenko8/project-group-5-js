{"mappings":"qoBAAO,MAAMA,EAAO,CAClBC,QAASC,SAASC,cAAc,YAChCC,WAAYF,SAASC,cAAc,iBAInCE,KAAMH,SAASC,cAAc,kBAC7BG,OAAQJ,SAASC,cAAc,WAC/BI,SAAUL,SAASC,cAAc,SACjCK,YAAaN,SAASC,cAAc,YACpCM,KAAMP,SAASC,cAAc,uBAC7BO,WAAYR,SAASC,cAAc,sBACnCQ,WAAYT,SAASC,cAAc,iBACnCS,YAAaV,SAASC,cAAc,uBACpCU,oBAAqBX,SAASC,cAAc,4BAC5CW,qBAAsBZ,SAASC,cAAc,eAC7CY,mBAAoBb,SAASC,cAAc,a,IChB7Ca,EAAA,SAgDAC,eAAeC,EAA2BC,GAEJ,MAA5BC,EAAaC,yBAAyBF,GAC5C,GAAIC,EAAWE,OAAS,EAAG,CAEvB,MAAMC,EAAkBH,EAAWI,KAAIP,MAAMQ,IACzC,MAAMC,KAAEA,SAAeC,MAAMC,IACzB,sCAAsCH,aAAmBI,oBAAoBC,YAEjF,OAAOJ,CAAI,IAGTK,QAAeC,QAAQC,IAAIV,GACjCW,QAAQC,IAAIJ,GACZK,kCAAkCL,E,MAElCM,eAAeC,UAAY,E,CA5BhBxB,qBAAEyB,iBAAiB,SAAS,KAC3CrB,EAA2B,WAC3BJ,qBAAqB0B,UAAUC,IAAI,eACnC1B,mBAAmByB,UAAUE,OAAO,cAAc,IAInC3B,mBAAAwB,iBAAiB,SAAS,KACzCrB,EAA2B,SAC3BH,mBAAmByB,UAAUC,IAAI,eACjC3B,qBAAqB0B,UAAUE,OAAO,cAAc","sources":["src/js/refs.js","src/js/header.js"],"sourcesContent":["export const refs = {\n  gallery: document.querySelector('.gallery'),\n  genresList: document.querySelector('.genres__list'),\n  // switchBtn: document.querySelector('.switch-btn'),\n  // switchBtnToggle: document.querySelector('.switch-btn::after'),\n  // body: document.querySelector('body'),\n  card: document.querySelector('.gallery__card'),\n  header: document.querySelector('.header'),\n  pageHome: document.querySelector('#home'),\n  pageLibrary: document.querySelector('#library'),\n  form: document.querySelector('.header__wrap--form'),\n  btnLibrary: document.querySelector('.header__wrap--btn'),\n  headerWrap: document.querySelector('.header__wrap'),\n  openOurTeam: document.querySelector('.footer__open-modal'),\n  libraryButtonsBlock: document.querySelector('.js-library-buttons-wrap'),\n  buttonLibraryWatched: document.querySelector('.js-watched'),\n  buttonLibraryQueue: document.querySelector('.js-queue'),\n};\n","import { refs } from './refs';\n\nexport function onTogglePage(e) {\n    onLibraryPageActive();\n}\n\nfunction onLibraryPageActive() {\n    if (refs.pageHome.classList.contains('current')) {\n        refs.pageHome.classList.toggle('current');\n        refs.header.classList.remove('header--home');\n        refs.pageLibrary.classList.add('current');\n        refs.header.classList.add('header--library');\n        onCreateLibraryPage();\n    }\n    if (onHomePageActive) {\n        return;\n    }\n}\nexport function startAddCurentClass() {\n    refs.pageHome.classList.add('current');\n}\n\nfunction onCreateLibraryPage() {\n    refs.form.classList.toggle('visually-hidden');\n    refs.btnLibrary.classList.toggle('visually-hidden');\n}\n\nexport function onHomePageActive() {\n    startAddCurentClass();\n    refs.pageLibrary.classList.remove('current');\n    refs.header.classList.remove('header--library');\n    refs.header.classList.add('header--home');\n    onCreateLibraryPage();\n}\n\n// Клик на кнопку  WATCHED в хедере\nbuttonLibraryWatched.addEventListener('click', () => {\n    showMoviesFromLocalstorage('watched');\n    buttonLibraryWatched.classList.add('highlighted');\n    buttonLibraryQueue.classList.remove('highlighted');\n});\n\n// Клик на кнопку  QUEUE в хедере\nbuttonLibraryQueue.addEventListener('click', () => {\n    showMoviesFromLocalstorage('queue');\n    buttonLibraryQueue.classList.add('highlighted');\n    buttonLibraryWatched.classList.remove('highlighted');\n});\nasync function showMoviesFromLocalstorage(keyOfStorage) {\n    //  показывает фильмы по ключу переменной в Localstorage\n    const queueArray = loadArayFromLocalStorage(keyOfStorage);\n    if (queueArray.length > 0) {\n        // проверка на пустой массив\n        const arrayOfPromises = queueArray.map(async movieId => {\n            const { data } = await axios.get(\n                `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=${LANGUAGE}`\n            );\n            return data;\n        });\n\n        const movies = await Promise.all(arrayOfPromises);\n        console.log(movies);\n        renderMoviesFromLocalstorageArray(movies);\n    } else {\n        movieContainer.innerHTML = '';\n    }\n}"],"names":["$ee27a4d7c64fc8c4$export$21666b427502ea6d","gallery","document","querySelector","genresList","card","header","pageHome","pageLibrary","form","btnLibrary","headerWrap","openOurTeam","libraryButtonsBlock","buttonLibraryWatched","buttonLibraryQueue","parcelRequire","async","$8aad853c076397e7$var$showMoviesFromLocalstorage","keyOfStorage","queueArray","loadArayFromLocalStorage","length","arrayOfPromises","map","movieId","data","axios","get","API_KEY","LANGUAGE","movies","Promise","all","console","log","renderMoviesFromLocalstorageArray","movieContainer","innerHTML","addEventListener","classList","add","remove"],"version":3,"file":"index.a2038c64.js.map"}