{"mappings":"ipBAAO,IAAMA,EAAO,CAClBC,gBAAiBC,SAASC,cAAc,iBAIxCC,KAAMF,SAASC,cAAc,QAC7BE,KAAMH,SAASC,cAAc,kBAC7BG,OAAQJ,SAASC,cAAc,WAC/BI,SAAUL,SAASC,cAAc,SACjCK,YAAaN,SAASC,cAAc,YACpCM,KAAMP,SAASC,cAAc,uBAC7BO,WAAYR,SAASC,cAAc,sBACnCQ,WAAYT,SAASC,cAAc,iBACnCS,YAAaV,SAASC,cAAc,uBACpCU,oBAAqBX,SAASC,cAAc,4BAC5CW,qBAAsBZ,SAASC,cAAc,eAC7CY,mBAAoBb,SAASC,cAAc,aAC3Ca,WAAYd,SAASC,cAAc,iBACnCc,WAAYf,SAASC,cAAc,mBACnCe,iBAAkBhB,SAASC,cAAc,gB,ICnB3CgB,EAAA,SCAA,IAAAC,EAAAD,EAAA,SAEAE,QAAQC,IAAIF,EAAAG,KAAKN,YACjBI,QAAQC,IAAIF,EAAAG,KAAKL,kBAEjBE,EAAAG,KAAKN,WAAWO,iBAAiB,UAGjC,SAAmBC,GACjBA,EAAMC,iBAEN,IAAIC,EAAaP,EAAAG,KAAKN,WAAWW,SAASC,OAAOC,MAAMC,OAGvD,GAA0B,IAAtBJ,EAAWK,OAEb,OADAX,QAAQC,IAAI,QACL,EAEPF,EAAAG,KAAKN,WAAWW,SAASC,OAAOC,MAAQH,EACxCP,EAAAG,KAAKN,WAAWgB,Q","sources":["src/js/refs.js","src/js/pagination.js","src/js/searchForm.js"],"sourcesContent":["export const refs = {\n  moviesContainer: document.querySelector('.movies__list'),\n  // genresList: document.querySelector('.genres__list'),\n  // switchBtn: document.querySelector('.switch-btn'),\n  // switchBtnToggle: document.querySelector('.switch-btn::after'),\n  body: document.querySelector('body'),\n  card: document.querySelector('.gallery__card'),\n  header: document.querySelector('.header'),\n  pageHome: document.querySelector('#home'),\n  pageLibrary: document.querySelector('#library'),\n  form: document.querySelector('.header__wrap--form'),\n  btnLibrary: document.querySelector('.header__wrap--btn'),\n  headerWrap: document.querySelector('.header__wrap'),\n  openOurTeam: document.querySelector('.footer__open-modal'),\n  libraryButtonsBlock: document.querySelector('.js-library-buttons-wrap'),\n  buttonLibraryWatched: document.querySelector('.js-watched'),\n  buttonLibraryQueue: document.querySelector('.js-queue'),\n  pagination: document.querySelector('.js-paginator'),\n  searchForm: document.querySelector('.js-search-form'),\n  searchMovieInput: document.querySelector('.form__query'),\n};\n","import { refs } from \"./refs\";\nexport default function Pagination() {\n    let totalPages = 0;\n    let currentPage = 1;\n    let pageLinks = 5; //   –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–æ–ø–æ–∫ ((–Ω–µ—á–µ—Ç–Ω—ã–µ —á–∏—Å–ª–∞, –ø—Ä–∏–º–µ—Ä - 1 2 [3] 4 5))\n    const paginationRange = Math.floor(pageLinks / 2);\n    let startPaginationPage = 1;\n    let stopPaginationPage = pageLinks;\n\n    function gotoPage({ target }) {\n        if (target.tagName === 'BUTTON') {\n            currentPage = Number(target.dataset.gotopage);\n            setPageToUrl(currentPage);\n            getFilmsByUrl(getUrlFromSearchParam());\n        }\n    }\n    function displayPagination(response) {\n        let pages = [];\n\n        if (response.total_pages > 1) {\n            if (pageLinks >= response.total_pages) {\n                pageLinks = response.total_pages;\n            }\n\n            if (currentPage <= 1 + paginationRange) {\n                startPaginationPage = 1;\n                stopPaginationPage = pageLinks;\n            } else {\n                startPaginationPage = currentPage - paginationRange;\n\n                stopPaginationPage = currentPage + paginationRange;\n                if (stopPaginationPage > response.total_pages) {\n                    stopPaginationPage = response.total_pages;\n                }\n            }\n\n            if (currentPage > 1) {\n                pages.push(\n                    `<button data-gotopage=\"${currentPage - 1\n                    }\" class=\"pagination__button back\" type=\"button\"></button>`\n                );\n            }\n\n            for (let i = startPaginationPage; i <= stopPaginationPage; i += 1) {\n                console.log('üöÄ ~ file: index.js:333 ~ i', i);\n\n                if (currentPage === i) {\n                    pages.push(\n                        `<button data-gotopage=\"${i}\" class=\"pagination__button current\" type=\"button\">${i}</button>`\n                    );\n                } else {\n                    pages.push(\n                        `<button data-gotopage=\"${i}\" class=\"pagination__button\" type=\"button\">${i}</button>`\n                    );\n                }\n            }\n\n            if (currentPage < response.total_pages) {\n                pages.push(\n                    `<button data-gotopage=\"${currentPage + 1\n                    }\" class=\"pagination__button forward\" type=\"button\"></button>`\n                );\n            }\n\n            pagination.innerHTML = pages.join('');\n        }\n    }\n}","import { refs } from './refs';\n\nconsole.log(refs.searchForm);\nconsole.log(refs.searchMovieInput);\n\nrefs.searchForm.addEventListener('submit', checkForm); // –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—ã –ø—Ä–∏ –ø–æ–∏—Å–∫–µ —Ñ–∏–ª—å–º–∞\n\n//  –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö  –≤ —Ñ–æ—Ä–º–µ –∏ –µ—Å–ª–∏ –≤—Å–µ –≥—É–¥ —Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∞\nfunction checkForm(event) {\n  event.preventDefault();\n\n  let inputValue = refs.searchForm.elements.search.value.trim();\n  // inputValue = inputValue.trim();\n\n  if (inputValue.length === 0) {\n    console.log('000');\n    return false;\n  } else {\n    refs.searchForm.elements.search.value = inputValue;\n    refs.searchForm.submit();\n  }\n}\n\nfunction searchWordToInput() {\n  const currentURL = window.location.href;\n  const searchWord = new URL(currentURL).searchParams.get('search');\n  if (searchWord !== null) {\n    searchMovieInput.value = searchWord.trim();\n  }\n}\n"],"names":["$37e33676934ad046$export$21666b427502ea6d","moviesContainer","document","querySelector","body","card","header","pageHome","pageLibrary","form","btnLibrary","headerWrap","openOurTeam","libraryButtonsBlock","buttonLibraryWatched","buttonLibraryQueue","pagination","searchForm","searchMovieInput","parcelRequire","$4Nugj","console","log","refs","addEventListener","event","preventDefault","inputValue","elements","search","value","trim","length","submit"],"version":3,"file":"index.d1ee0f78.js.map"}