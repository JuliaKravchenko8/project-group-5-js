{"mappings":"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","sources":["src/oldJs/refs.js","src/oldJs/modalOurTeam.js","node_modules/hystmodal/src/hystmodal.js"],"sourcesContent":["export const refs = {\n  moviesContainer: document.querySelector('.movies__list'),\n  // genresList: document.querySelector('.genres__list'),\n  // switchBtn: document.querySelector('.switch-btn'),\n  // switchBtnToggle: document.querySelector('.switch-btn::after'),\n  body: document.querySelector('body'),\n  card: document.querySelector('.gallery__card'),\n  header: document.querySelector('.header'),\n  pageHome: document.querySelector('#home'),\n  pageLibrary: document.querySelector('#library'),\n  form: document.querySelector('.header__wrap--form'),\n  btnLibrary: document.querySelector('.header__wrap--btn'),\n  headerWrap: document.querySelector('.header__wrap'),\n  openOurTeam: document.querySelector('.footer__open-modal'),\n  libraryButtonsBlock: document.querySelector('.js-library-buttons-wrap'),\n  buttonLibraryWatched: document.querySelector('.js-watched'),\n  buttonLibraryQueue: document.querySelector('.js-queue'),\n  pagination: document.querySelector('.js-paginator'),\n  searchForm: document.querySelector('.js-search-form'),\n  searchMovieInput: document.querySelector('.form__query'),\n};\n","import HystModal from 'hystmodal';\nimport 'hystmodal/dist/hystmodal.min.css';\nimport { refs } from './refs';\n\nrefs.openOurTeam.addEventListener('click', onClick);\n\nconst myModal = new HystModal({\n  linkAttributeName: 'data-hystmodal',\n});\n\nfunction onClick() {\n  myModal.init();\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-underscore-dangle */\nexport default class HystModal {\n  constructor(props) {\n    const defaultConfig = {\n      backscroll: true,\n      linkAttributeName: 'data-hystmodal',\n      closeOnOverlay: true,\n      closeOnEsc: true,\n      closeOnButton: true,\n      waitTransitions: false,\n      catchFocus: true,\n      fixedSelectors: '*[data-hystfixed]',\n      beforeOpen: () => { },\n      afterClose: () => { },\n    };\n    this.config = Object.assign(defaultConfig, props);\n    if (this.config.linkAttributeName) {\n      this.init();\n    }\n    this._closeAfterTransition = this._closeAfterTransition.bind(this);\n  }\n\n  init() {\n    this.isOpened = false;\n    this.openedWindow = false;\n    this.starter = false;\n    this._nextWindows = false;\n    this._scrollPosition = 0;\n    this._reopenTrigger = false;\n    this._overlayChecker = false;\n    this._isMoved = false;\n    this._focusElements = [\n      'a[href]',\n      'area[href]',\n      'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\n      'select:not([disabled]):not([aria-hidden])',\n      'textarea:not([disabled]):not([aria-hidden])',\n      'button:not([disabled]):not([aria-hidden])',\n      'iframe',\n      'object',\n      'embed',\n      '[contenteditable]',\n      '[tabindex]:not([tabindex^=\"-\"])',\n    ];\n    this._modalBlock = false;\n\n    const existingShadow = document.querySelector('.hystmodal__shadow');\n    if (existingShadow) {\n      this.shadow = existingShadow;\n    } else {\n      this.shadow = document.createElement('div');\n      this.shadow.classList.add('hystmodal__shadow');\n      document.body.appendChild(this.shadow);\n    }\n    this.eventsFeeler();\n  }\n\n  eventsFeeler() {\n    document.addEventListener('click', (e) => {\n      const clickedlink = e.target.closest(`[${this.config.linkAttributeName}]`);\n      if (!this._isMoved && clickedlink) {\n        e.preventDefault();\n        this.starter = clickedlink;\n        const targetSelector = this.starter.getAttribute(this.config.linkAttributeName);\n        this._nextWindows = document.querySelector(targetSelector);\n        this.open();\n        return;\n      }\n      if (this.config.closeOnButton && e.target.closest('[data-hystclose]')) {\n        this.close();\n      }\n    });\n\n    if (this.config.closeOnOverlay) {\n      document.addEventListener('mousedown', (e) => {\n        if (!this._isMoved && (e.target instanceof Element) && !e.target.classList.contains('hystmodal__wrap')) return;\n        this._overlayChecker = true;\n      });\n\n      document.addEventListener('mouseup', (e) => {\n        if (!this._isMoved && (e.target instanceof Element) && this._overlayChecker && e.target.classList.contains('hystmodal__wrap')) {\n          e.preventDefault();\n          this._overlayChecker = !this._overlayChecker;\n          this.close();\n          return;\n        }\n        this._overlayChecker = false;\n      });\n    }\n\n    window.addEventListener('keydown', (e) => {\n      if (!this._isMoved && this.config.closeOnEsc && e.which === 27 && this.isOpened) {\n        e.preventDefault();\n        this.close();\n        return;\n      }\n      if (!this._isMoved && this.config.catchFocus && e.which === 9 && this.isOpened) {\n        this.focusCatcher(e);\n      }\n    });\n  }\n\n  open(selector) {\n    if (selector) {\n      if (typeof (selector) === 'string') {\n        this._nextWindows = document.querySelector(selector);\n      } else {\n        this._nextWindows = selector;\n      }\n    }\n    if (!this._nextWindows) {\n      console.log('Warning: hystModal selector is not found');\n      return;\n    }\n    if (this.isOpened) {\n      this._reopenTrigger = true;\n      this.close();\n      return;\n    }\n    this.openedWindow = this._nextWindows;\n    this._modalBlock = this.openedWindow.querySelector('.hystmodal__window');\n    this.config.beforeOpen(this);\n    this._bodyScrollControl();\n    this.shadow.classList.add('hystmodal__shadow--show');\n    this.openedWindow.classList.add('hystmodal--active');\n    this.openedWindow.setAttribute('aria-hidden', 'false');\n    if (this.config.catchFocus) this.focusControl();\n    this.isOpened = true;\n  }\n\n  close() {\n    if (!this.isOpened) {\n      return;\n    }\n    if (this.config.waitTransitions) {\n      this.openedWindow.classList.add('hystmodal--moved');\n      this._isMoved = true;\n      this.openedWindow.addEventListener('transitionend', this._closeAfterTransition);\n      this.openedWindow.classList.remove('hystmodal--active');\n    } else {\n      this.openedWindow.classList.remove('hystmodal--active');\n      this._closeAfterTransition();\n    }\n  }\n\n  _closeAfterTransition() {\n    this.openedWindow.classList.remove('hystmodal--moved');\n    this.openedWindow.removeEventListener('transitionend', this._closeAfterTransition);\n    this._isMoved = false;\n    this.shadow.classList.remove('hystmodal__shadow--show');\n    this.openedWindow.setAttribute('aria-hidden', 'true');\n\n    if (this.config.catchFocus) this.focusControl();\n    this._bodyScrollControl();\n    this.isOpened = false;\n    this.openedWindow.scrollTop = 0;\n    this.config.afterClose(this);\n\n    if (this._reopenTrigger) {\n      this._reopenTrigger = false;\n      this.open();\n    }\n  }\n\n  focusControl() {\n    const nodes = this.openedWindow.querySelectorAll(this._focusElements);\n    if (this.isOpened && this.starter) {\n      this.starter.focus();\n    } else if (nodes.length) nodes[0].focus();\n  }\n\n  focusCatcher(e) {\n    const nodes = this.openedWindow.querySelectorAll(this._focusElements);\n    const nodesArray = Array.prototype.slice.call(nodes);\n    if (!this.openedWindow.contains(document.activeElement)) {\n      nodesArray[0].focus();\n      e.preventDefault();\n    } else {\n      const focusedItemIndex = nodesArray.indexOf(document.activeElement);\n      if (e.shiftKey && focusedItemIndex === 0) {\n        nodesArray[nodesArray.length - 1].focus();\n        e.preventDefault();\n      }\n      if (!e.shiftKey && focusedItemIndex === nodesArray.length - 1) {\n        nodesArray[0].focus();\n        e.preventDefault();\n      }\n    }\n  }\n\n  _bodyScrollControl() {\n    if (!this.config.backscroll) return;\n\n    // collect fixed selectors to array\n    const fixedSelectorsElems = document.querySelectorAll(this.config.fixedSelectors);\n    const fixedSelectors = Array.prototype.slice.call(fixedSelectorsElems);\n\n    const html = document.documentElement;\n    if (this.isOpened === true) {\n      html.classList.remove('hystmodal__opened');\n      html.style.marginRight = '';\n      fixedSelectors.forEach((el) => {\n        el.style.marginRight = '';\n      });\n      window.scrollTo(0, this._scrollPosition);\n      html.style.top = '';\n      return;\n    }\n    this._scrollPosition = window.pageYOffset;\n    const marginSize = window.innerWidth - html.clientWidth;\n    html.style.top = `${-this._scrollPosition}px`;\n\n    if (marginSize) {\n      html.style.marginRight = `${marginSize}px`;\n      fixedSelectors.forEach((el) => {\n        el.style.marginRight = `${parseInt(getComputedStyle(el).marginRight, 10) + marginSize}px`;\n      });\n    }\n    html.classList.add('hystmodal__opened');\n  }\n}\n"],"names":["moviesContainer","document","querySelector","body","card","header","pageHome","pageLibrary","form","btnLibrary","headerWrap","openOurTeam","libraryButtonsBlock","buttonLibraryWatched","buttonLibraryQueue","pagination","searchForm","searchMovieInput","addEventListener","$13054d1b63367567$var$myModal","init","this","isOpened","openedWindow","starter","_nextWindows","_scrollPosition","_reopenTrigger","_overlayChecker","_isMoved","_focusElements","_modalBlock","existingShadow","shadow","createElement","classList","add","appendChild","eventsFeeler","e","clickedlink","target","closest","config","linkAttributeName","preventDefault","targetSelector","getAttribute","open","closeOnButton","close","closeOnOverlay","Element","contains","window","closeOnEsc","which","catchFocus","focusCatcher","selector","beforeOpen","_bodyScrollControl","setAttribute","focusControl","console","log","waitTransitions","_closeAfterTransition","remove","removeEventListener","scrollTop","afterClose","nodes","querySelectorAll","focus","length","nodesArray","Array","prototype","slice","call","activeElement","focusedItemIndex","indexOf","shiftKey","backscroll","fixedSelectorsElems","fixedSelectors","html","documentElement","style","marginRight","forEach","el","scrollTo","top","pageYOffset","marginSize","innerWidth","clientWidth","parseInt","getComputedStyle","constructor","props","Object","assign","bind"],"version":3,"file":"index.2a9da67c.js.map"}